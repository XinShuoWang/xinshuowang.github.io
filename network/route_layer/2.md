# MAC地址
MAC地址一般是在网卡生产时候就确定的。

# IP地址
一般是一个实体具有一组IP，比如阿里云有一个地址段就是`8.208.0.0/16`，还有某个地区的IP前缀也一般是固定的，这就是可以通过IP查询到你是`上海电信`的原因。

# 区别
- MAC地址一般不可变，有可能迁移，比如说我一台电脑从北京搬到了上海，此MAC地址理所应当的也到了上海
- IP地址一般在某个区域内或者实体内分配。

# 联系
众所周知，计算机之间的通信都是依靠MAC地址的，同一子网内的直接使用MAC地址通信，不同子网间通信会把目的地址设置成网关的MAC地址，让网关对外通信。

![image](https://user-images.githubusercontent.com/56379080/145803829-a8023679-c37c-445a-9d2d-0fbafda0245f.png)

想一想，如果只有MAC地址然后想做全球互联网那该怎么做：因为设备是可移动的，有可能今天在A地，明天就到B地，所以每到一个地方就要把MAC地址一层一层上报上去，直到最顶层的“交换设备”，它存储了所有机器的可达信息（经过哪些路径可以联系到他），显然这个地方会有存储、网络、计算等多方面瓶颈，是不可能实现的。

于是要在MAC地址之上再加IP地址，隐藏MAC地址的细节（小范围内使用MAC地址通信，大范围就使用IP地址来进行规约推断），这时候顶层依然是存放了所有的可达信息，但是是“压缩”过的（压缩：比如说阿里云的IP地址是这样的：8.34.0.0/16，一共`2^16`个IP地址，但是只用存一个条目就好，因为无论是8.34.1.5，还是8.34.233.233都可以通过路由表里的路由器可达到达）。

# 打个比方
- MAC地址子网内通信：我有身份证号，可以作为快递的目的标识，在班级内可以直接按照身份证号发快递给我，因为就那几个人，你一喊我就知道你找我了。
- MAC地址广域网通信：在全国范围内就不能这么操作了（超级广播风暴），这时候如果还想用身份证号作为目的地址就要演化出这样一套系统：每次我一到一个新地方就要向菜鸟驿站报告我的到来，告诉菜鸟驿站：“你向上报告一下，就说我来了，以后：310xxxxxxxx的快递就往你这分发就行”，于是东风菜鸟驿站向市代理报告，市代理又向全国总代理报告，总代理那里会把这条信息报告上来的路径存下来，就像这样`310xxxxxxxx：东风菜鸟驿站，上海市菜鸟驿站`，这样一个人给我寄东西时就知道该怎么把包裹分发出来了（先给上海代理，再发给东风菜鸟驿站），但是总代理会疯掉，因为每个人都有一个可达路径，这个数据量将是一个天文数字。
- IP地址通信：菜鸟驿站改变策略了，每到一个新地方，就去领一个邮编，收发东西就用邮编，这时候如果我想给别人寄一个东西，就只需要知道他的邮编就好，这个邮编自身就包含可达性信息，比如说邮编是这样的：`1234`，其中12代表上海市，34代表东风菜鸟驿站，这样的话总代理只需要记住12开头的无论是谁的都扔给上海的那个代理就好，上海代理接到包裹一看，上面是34的，就直接发给东风菜鸟驿站，菜鸟驿站会喊一声：“310xxxxxxxx来拿快递！”，这样的话就可以流畅运行起来了。
