# Perf安装
```
git clone --depth 1 https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git
cd linux/tools/perf
make
cp perf /usr/bin
```

# 热力图分析
1. `sudo perf record -e cpu-clock -g -p 28591`
2. `sudo perf script -i perf.data &> perf.unfold`
3. `git clone https://github.com/brendangregg/FlameGraph.git`
4. `cp perf.unfold FlameGragh && cd FlameGraph`
5. `./stackcollapse-perf.pl perf.unfold &> perf.folded`
6. `./flamegraph.pl perf.folded > perf.svg`
